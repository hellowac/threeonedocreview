(window["webpackJsonp_ThreeIntelligence"]=window["webpackJsonp_ThreeIntelligence"]||[]).push([["chunk-c4042e46"],{"1f4b":function(t,e,l){},2136:function(t,e,l){},"63b5":function(t,e,l){"use strict";l("2136")},"9d64":function(t,e,l){t.exports=l.p+"images/logo.5892e864.png"},c1f7:function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-wrapper"},[e("app-main")],1)},s=[],o=(l("14d9"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-main"},[e("div",{staticClass:"app-main-header"},[t._m(0),e("div",{staticClass:"app-main-header-content"},t._l(t.menuData,(function(l){return e("div",{key:l.url,class:t.$route.path===l.url?"active":"",on:{click:function(e){return t.$router.push(l.url)}}},[t._v(t._s(l.title))])})),0),e("div",{staticClass:"app-main-header-remark"},[e("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-setting",circle:""},on:{click:t.handleSystemSettingClick}})],1),e("div",{staticClass:"app-main-header-setting"},[e("el-dropdown",{on:{command:t.layout}},[e("i",{staticClass:"el-icon-user",staticStyle:{"margin-right":"6px","font-size":"26px"}}),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出")])],1)],1),e("span",[t._v(t._s(t.userInfo.name))])],1)]),e("div",{staticClass:"app-main-container"},[e("router-view",{staticClass:"app-main-view"})],1),e("SystemSetting",{ref:"systemsetting"})],1)}),i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-main-header-logo"},[e("img",{attrs:{src:l("9d64")}})])}],n=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:"系统设置, 请谨慎操作!!!",visible:t.showDialog,width:"80%",center:""},on:{"update:visible":function(e){t.showDialog=e}}},[e("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"输电",name:"first"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.transTableData}},[e("el-table-column",{attrs:{prop:"protocol",width:"60px",label:"http/s"}}),e("el-table-column",{attrs:{prop:"host",label:"主机"}}),e("el-table-column",{attrs:{prop:"port",width:"60px",label:"端口"}}),e("el-table-column",{attrs:{prop:"app_key",label:"应用KEY"}}),e("el-table-column",{attrs:{prop:"agent_code",label:"智能体编码"}}),e("el-table-column",{attrs:{prop:"agent_version",label:"智能体版本"}}),e("el-table-column",{attrs:{prop:"section",label:"对应节"}}),e("el-table-column",{attrs:{label:"启用"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-switch",{attrs:{disabled:""},model:{value:l.row.is_enable,callback:function(e){t.$set(l.row,"is_enable",e)},expression:"scope.row.is_enable"}})]}}])}),e("el-table-column",{attrs:{prop:"desc",label:"描述"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(l.$index,l.row)}}},[t._v("编辑")])]}}])})],1)],1),e("el-tab-pane",{attrs:{label:"变电",name:"second"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.subTableData}},[e("el-table-column",{attrs:{prop:"protocol",width:"60px",label:"http/s"}}),e("el-table-column",{attrs:{prop:"host",label:"主机"}}),e("el-table-column",{attrs:{prop:"port",width:"60px",label:"端口"}}),e("el-table-column",{attrs:{prop:"app_key",label:"应用KEY"}}),e("el-table-column",{attrs:{prop:"agent_code",label:"智能体编码"}}),e("el-table-column",{attrs:{prop:"agent_version",label:"智能体版本"}}),e("el-table-column",{attrs:{prop:"section",label:"对应节"}}),e("el-table-column",{attrs:{label:"启用"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-switch",{attrs:{disabled:""},model:{value:l.row.is_enable,callback:function(e){t.$set(l.row,"is_enable",e)},expression:"scope.row.is_enable"}})]}}])}),e("el-table-column",{attrs:{prop:"desc",label:"描述"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(l.$index,l.row)}}},[t._v("编辑")])]}}])})],1)],1),e("el-tab-pane",{attrs:{label:"配电",name:"third"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.disTableData}},[e("el-table-column",{attrs:{prop:"protocol",width:"60px",label:"http/s"}}),e("el-table-column",{attrs:{prop:"host",label:"主机"}}),e("el-table-column",{attrs:{prop:"port",width:"60px",label:"端口"}}),e("el-table-column",{attrs:{prop:"app_key",label:"应用KEY"}}),e("el-table-column",{attrs:{prop:"agent_code",label:"智能体编码"}}),e("el-table-column",{attrs:{prop:"agent_version",label:"智能体版本"}}),e("el-table-column",{attrs:{prop:"section",label:"对应节"}}),e("el-table-column",{attrs:{label:"启用"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-switch",{attrs:{disabled:""},model:{value:l.row.is_enable,callback:function(e){t.$set(l.row,"is_enable",e)},expression:"scope.row.is_enable"}})]}}])}),e("el-table-column",{attrs:{prop:"desc",label:"描述"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(l.$index,l.row)}}},[t._v("编辑")])]}}])})],1)],1),e("el-tab-pane",{attrs:{label:"智能助手",name:"fourth"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.assTableData}},[e("el-table-column",{attrs:{prop:"protocol",width:"60px",label:"http/s"}}),e("el-table-column",{attrs:{prop:"host",label:"主机"}}),e("el-table-column",{attrs:{prop:"port",width:"60px",label:"端口"}}),e("el-table-column",{attrs:{prop:"app_key",label:"应用KEY"}}),e("el-table-column",{attrs:{prop:"agent_code",label:"智能体编码"}}),e("el-table-column",{attrs:{prop:"agent_version",label:"智能体版本"}}),e("el-table-column",{attrs:{prop:"section",label:"对应节"}}),e("el-table-column",{attrs:{label:"启用"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-switch",{attrs:{disabled:""},model:{value:l.row.is_enable,callback:function(e){t.$set(l.row,"is_enable",e)},expression:"scope.row.is_enable"}})]}}])}),e("el-table-column",{attrs:{prop:"desc",label:"描述"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(l.$index,l.row)}}},[t._v("编辑")])]}}])})],1)],1)],1)],1),e("el-dialog",{attrs:{title:"更新Agent调用参数（非开发/运维人员勿修改!!）",visible:t.showEditDialog},on:{"update:visible":function(e){t.showEditDialog=e}}},[e("el-form",{attrs:{"label-width":"100px",model:t.editObj}},[e("el-form-item",{attrs:{label:"对应专业"}},[e("el-input",{attrs:{disabled:""},model:{value:t.editObj.agent_type,callback:function(e){t.$set(t.editObj,"agent_type",e)},expression:"editObj.agent_type"}})],1),e("el-form-item",{attrs:{label:"对应节"}},[e("el-input",{attrs:{disabled:""},model:{value:t.editObj.section,callback:function(e){t.$set(t.editObj,"section",e)},expression:"editObj.section"}})],1),e("el-form-item",{attrs:{label:"协议"}},[e("el-input",{model:{value:t.editObj.protocol,callback:function(e){t.$set(t.editObj,"protocol",e)},expression:"editObj.protocol"}}),e("span",[t._v("仅支持: https/http")])],1),e("el-form-item",{attrs:{label:"主机"}},[e("el-input",{model:{value:t.editObj.host,callback:function(e){t.$set(t.editObj,"host",e)},expression:"editObj.host"}}),e("span",[t._v("ip/域名")])],1),e("el-form-item",{attrs:{label:"端口"}},[e("el-input",{model:{value:t.editObj.port,callback:function(e){t.$set(t.editObj,"port",e)},expression:"editObj.port"}})],1),e("el-form-item",{attrs:{label:"应用KEY"}},[e("el-input",{model:{value:t.editObj.app_key,callback:function(e){t.$set(t.editObj,"app_key",e)},expression:"editObj.app_key"}})],1),e("el-form-item",{attrs:{label:"智能体编码"}},[e("el-input",{model:{value:t.editObj.agent_code,callback:function(e){t.$set(t.editObj,"agent_code",e)},expression:"editObj.agent_code"}})],1),e("el-form-item",{attrs:{label:"智能体版本"}},[e("el-input",{model:{value:t.editObj.agent_version,callback:function(e){t.$set(t.editObj,"agent_version",e)},expression:"editObj.agent_version"}})],1),e("el-form-item",{attrs:{label:"风险分类"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.editObj.risk_types,callback:function(e){t.$set(t.editObj,"risk_types",e)},expression:"editObj.risk_types"}}),e("div",[t._v("该节审查时对应的风险分类")])],1),e("el-form-item",{attrs:{label:"引用文件分类"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.editObj.ref_docs,callback:function(e){t.$set(t.editObj,"ref_docs",e)},expression:"editObj.ref_docs"}}),e("div",[t._v("该节审查时可能引用/参考的文件分类")])],1),e("el-form-item",{attrs:{label:"是否启用"}},[e("el-switch",{model:{value:t.editObj.is_enable,callback:function(e){t.$set(t.editObj,"is_enable",e)},expression:"editObj.is_enable"}}),e("span",[e("br"),t._v("不启用，则审核时不会审核该节")])],1),e("el-form-item",{attrs:{label:"描述"}},[e("el-input",{attrs:{disabled:""},model:{value:t.editObj.desc,callback:function(e){t.$set(t.editObj,"desc",e)},expression:"editObj.desc"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showEditDialog=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleUpdateSetting}},[t._v("确 定")])],1)],1)],1)},r=[],c=l("365c"),p=l("bcbf"),b={name:"SystemSetting",components:{},computed:{},data(){return{showDialog:!1,showEditDialog:!1,activeName:"first",transTableData:[{id:"111",protocol:"http",host:"localhost",port:8002,app_key:"APP_KEY",agent_code:"sid-xxxxxxxxx",agent_version:"xxx",session_id:"xxx",risk_types:"",ref_docs:"",is_enable:!1,section:"第一节",desc:"应用APP的KEY, 在app的APP_KEY管理页面可以添加"}],subTableData:[],disTableData:[],assTableData:[],editObj:{id:"111",protocol:"http",host:"localhost",port:8002,app_key:"APP_KEY",agent_code:"sid-xxxxxxxxx",agent_version:"xxx",risk_types:"",ref_docs:"",session_id:"xxx",is_enable:!1,section:"第二节",desc:"应用APP的KEY, 在app的APP_KEY管理页面可以添加"}}},mounted:()=>{},methods:{show(){this.queryTransSetting(),this.querySubSetting(),this.queryDisSetting(),this.queryAssSetting(),this.showDialog=!0},queryTransSetting(){console.log("拉取输电设置"),Object(c["c"])("/agentsettings/输电").then(t=>{this.transTableData=t.data.data})},querySubSetting(){console.log("拉取系统设置列表"),Object(c["c"])("/agentsettings/变电").then(t=>{this.subTableData=t.data.data})},queryDisSetting(){console.log("拉取配电设置"),Object(c["c"])("/agentsettings/配电").then(t=>{this.disTableData=t.data.data})},queryAssSetting(){console.log("拉取智能助手设置"),Object(c["c"])("/agentsettings/智能助手").then(t=>{this.assTableData=t.data.data})},handleEdit(t,e){console.log("进行系统设置",e),this.editObj=Object(p["cloneDeep"])(e),this.showEditDialog=!0},handleUpdateSession(t,e){console.log("更新会话ID",e)},handleUpdateSetting(){console.log("确定更新设置:",this.editObj);const t={protocol:this.editObj.protocol,host:this.editObj.host,port:this.editObj.port,app_key:this.editObj.app_key,agent_code:this.editObj.agent_code,agent_version:this.editObj.agent_version,risk_types:this.editObj.risk_types,ref_docs:this.editObj.ref_docs};Object(c["d"])(`/agentsettings/${this.editObj.id}/update`,t).then(t=>{this.$message.success("更新会话信息成功!"),console.log("更新结果:",t.data),this.editObj={},this.queryTransSetting(),this.querySubSetting(),this.queryDisSetting(),this.queryAssSetting(),this.showEditDialog=!1})}}},d=b,u=l("2877"),m=Object(u["a"])(d,n,r,!1,null,"f81c860a",null),h=m.exports,_={name:"AppMain",components:{SystemSetting:h},computed:{},data(){return{menuData:[{title:"首页",url:"/home"},{title:"智能审查",url:"/SmartReview"},{title:"智能助手",url:"/QAassistant"},{title:"统计分析",url:"/StatisticalAnalysis"},{title:"在线工具",url:"/OnlineTool"},{title:"审查历史",url:"/ReviewList"}],userInfo:JSON.parse(sessionStorage.getItem("userInfo"))||{}}},mounted(){this.userInfo.name||(console.log("无用户信息，重新登录！！"),this.layout("logout"))},methods:{layout(t){"logout"===t&&(sessionStorage.removeItem("AuthorizationCode"),sessionStorage.removeItem("userInfo"),window.location.replace("http://10.215.128.190/api/v1/isc_sso/logout?service=http://10.215.128.190/#/auth-redirect"))},handleSystemSettingClick(){console.log("进行处理系统设置"),this.$refs.systemsetting.show()}}},f=_,g=(l("63b5"),Object(u["a"])(f,o,i,!1,null,"30ab844e",null)),v=g.exports,x={name:"Layout",components:{AppMain:v}},w=x,y=(l("f88a"),Object(u["a"])(w,a,s,!1,null,"4392871a",null));e["default"]=y.exports},f88a:function(t,e,l){"use strict";l("1f4b")}}]);